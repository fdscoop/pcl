(()=>{var e={};e.id=93,e.ids=[93],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(249),r(7718),r(7824);var s=r(3282),a=r(5736),i=r(3906),l=r.n(i),n=r(6880),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["profile",{children:["player",{children:["complete",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,249)),"/Users/bineshbalan/pcl/apps/web/src/app/profile/player/complete/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,1572))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,9908))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,7718)),"/Users/bineshbalan/pcl/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7824,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,1572))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,9908))).default(e)],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/bineshbalan/pcl/apps/web/src/app/profile/player/complete/page.tsx"],p="/profile/player/complete/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/player/complete/page",pathname:"/profile/player/complete",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8406:()=>{},3583:(e,t,r)=>{Promise.resolve().then(r.bind(r,3728))},9469:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4424,23)),Promise.resolve().then(r.t.bind(r,7752,23)),Promise.resolve().then(r.t.bind(r,5275,23)),Promise.resolve().then(r.t.bind(r,9842,23)),Promise.resolve().then(r.t.bind(r,1633,23)),Promise.resolve().then(r.t.bind(r,9224,23))},3728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(3227),a=r(3677),i=r(1043),l=r(164),n=r(2837),o=r(9342),d=r(1685),c=r(1250),p=r(3956),u=r(3414),m=r(7761);function h({currentImageUrl:e,onUploadComplete:t,bucket:r,folder:i="",maxSizeMB:n=5,acceptedTypes:o=["image/jpeg","image/jpg","image/png","image/webp"]}){let[d,p]=(0,a.useState)(!1),[u,m]=(0,a.useState)(e||null),[h,x]=(0,a.useState)(null),f=(0,a.useRef)(null),g=async s=>{try{x(null);let e=s.target.files?.[0];if(!e)return;if(!o.includes(e.type)){x(`Please upload a valid image file (${o.map(e=>e.split("/")[1]).join(", ")})`);return}if(e.size/1048576>n){x(`File size must be less than ${n}MB`);return}let a=new FileReader;a.onloadend=()=>{m(a.result)},a.readAsDataURL(e),p(!0);let d=(0,l.e)(),c=e.name.split(".").pop(),u=`${Math.random().toString(36).substring(2)}_${Date.now()}.${c}`,h=i?`${i}/${u}`:u,{data:f,error:g}=await d.storage.from(r).upload(h,e,{cacheControl:"3600",upsert:!1});if(g)throw g;let{data:{publicUrl:b}}=d.storage.from(r).getPublicUrl(f.path);t(b)}catch(t){console.error("Upload error:",t),x(t instanceof Error?t.message:"Failed to upload image"),m(e||null)}finally{p(!1)}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[u?(0,s.jsxs)("div",{className:"relative",children:[s.jsx("img",{src:u,alt:"Profile preview",className:"w-32 h-32 object-cover rounded-full border-4 border-slate-200"}),!d&&s.jsx("button",{onClick:()=>{m(null),t(""),f.current&&(f.current.value="")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",type:"button",children:"\xd7"})]}):s.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-dashed border-slate-300 flex items-center justify-center bg-slate-50",children:s.jsx("svg",{className:"w-12 h-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:o.join(","),onChange:g,disabled:d,className:"hidden",id:"photo-upload"}),s.jsx("label",{htmlFor:"photo-upload",children:s.jsx(c.z,{type:"button",variant:"outline",size:"sm",disabled:d,onClick:()=>f.current?.click(),asChild:!0,children:s.jsx("span",{children:d?"Uploading...":u?"Change Photo":"Upload Photo"})})}),(0,s.jsxs)("p",{className:"text-xs text-slate-500 text-center",children:["Max ",n,"MB â€¢ JPG, PNG, WebP"]})]})]}),h&&s.jsx("div",{className:"text-sm text-red-600 text-center bg-red-50 p-2 rounded",children:h})]})}let x=["Goalkeeper","Defender","Midfielder","Forward","Winger"],f=["Left","Right","Both"],g=d.Ryn({position:d.KmV(x).catch("Midfielder"),jersey_number:d.Z_8().optional(),date_of_birth:d.Z_8().min(1,"Date of birth is required"),nationality:d.Z_8().min(2,"Nationality is required"),address:d.Z_8().min(5,"Address is required"),district:d.Z_8().min(2,"District is required"),state:d.Z_8().min(2,"State is required"),height_cm:d.Z_8().min(1,"Height is required"),weight_kg:d.Z_8().min(1,"Weight is required"),preferred_foot:d.KmV(f).catch("Right"),bio:d.Z_8().optional()});function b(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(null),[d,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!0),[v,_]=(0,a.useState)(""),{register:w,handleSubmit:N,formState:{errors:P},reset:k}=(0,o.cI)({resolver:(0,n.F)(g)}),I=async t=>{try{r(null),b(!0);let s=(0,l.e)(),{data:{user:a}}=await s.auth.getUser();if(!a){r("Not authenticated");return}if(!v){r("Profile photo is required. Please upload a photo before submitting."),b(!1);return}let i=`PCL-P-${Date.now()}-${Math.random().toString(36).substring(2,9).toUpperCase()}`,{data:n}=await s.from("players").select("id").eq("user_id",a.id).single();if(n){let{error:e}=await s.from("players").update({photo_url:v,position:t.position,jersey_number:t.jersey_number?parseInt(t.jersey_number):null,date_of_birth:t.date_of_birth,nationality:t.nationality,address:t.address,district:t.district,state:t.state,height_cm:parseFloat(t.height_cm),weight_kg:parseFloat(t.weight_kg),preferred_foot:t.preferred_foot.toLowerCase(),is_available_for_scout:!1,updated_at:new Date().toISOString()}).eq("user_id",a.id);if(e){r(e.message);return}}else{let{error:e}=await s.from("players").insert({user_id:a.id,unique_player_id:i,photo_url:v,position:t.position,jersey_number:t.jersey_number?parseInt(t.jersey_number):null,date_of_birth:t.date_of_birth,nationality:t.nationality,address:t.address,district:t.district,state:t.state,height_cm:parseFloat(t.height_cm),weight_kg:parseFloat(t.weight_kg),preferred_foot:t.preferred_foot.toLowerCase(),is_available_for_scout:!1});if(e){r(e.message);return}}t.bio&&await s.from("users").update({bio:t.bio}).eq("id",a.id),e.push("/dashboard/player")}catch(e){r(e instanceof Error?e.message:"An error occurred")}finally{b(!1)}};return y?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-slate-600",children:"Loading profile..."})}):(0,s.jsxs)("form",{onSubmit:N(I),className:"space-y-6",children:[t&&s.jsx(m.bZ,{variant:"destructive",children:t}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{className:"text-center block",children:"Profile Photo *"}),s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(h,{currentImageUrl:v,onUploadComplete:_,bucket:"player-photos",folder:"profiles",maxSizeMB:5})}),s.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Profile photo is required for player identification and verification"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"position",children:"Playing Position *"}),(0,s.jsxs)("select",{id:"position",...w("position"),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select position"}),x.map(e=>s.jsx("option",{value:e,children:e},e))]}),P.position&&s.jsx("p",{className:"text-sm text-red-600",children:P.position.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"jersey_number",children:"Jersey Number (Optional)"}),s.jsx(p.I,{id:"jersey_number",type:"number",min:"1",max:"99",placeholder:"e.g., 10",...w("jersey_number")}),P.jersey_number&&s.jsx("p",{className:"text-sm text-red-600",children:P.jersey_number.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"date_of_birth",children:"Date of Birth *"}),s.jsx(p.I,{id:"date_of_birth",type:"date",...w("date_of_birth")}),P.date_of_birth&&s.jsx("p",{className:"text-sm text-red-600",children:P.date_of_birth.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"nationality",children:"Nationality *"}),s.jsx(p.I,{id:"nationality",type:"text",placeholder:"e.g., Indian",...w("nationality")}),P.nationality&&s.jsx("p",{className:"text-sm text-red-600",children:P.nationality.message})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(u._,{htmlFor:"address",children:"Address *"}),s.jsx(p.I,{id:"address",type:"text",placeholder:"House/Flat No., Street, Area",...w("address")}),P.address&&s.jsx("p",{className:"text-sm text-red-600",children:P.address.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"district",children:"District *"}),s.jsx(p.I,{id:"district",type:"text",placeholder:"e.g., Kasaragod",...w("district")}),P.district&&s.jsx("p",{className:"text-sm text-red-600",children:P.district.message}),s.jsx("p",{className:"text-xs text-slate-500",children:"Used for District Qualifier Level (DQL) tournaments"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"state",children:"State *"}),s.jsx(p.I,{id:"state",type:"text",placeholder:"e.g., Kerala",...w("state")}),P.state&&s.jsx("p",{className:"text-sm text-red-600",children:P.state.message}),s.jsx("p",{className:"text-xs text-slate-500",children:"Required for state and national level leagues"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"height_cm",children:"Height (cm) *"}),s.jsx(p.I,{id:"height_cm",type:"number",min:"100",max:"250",placeholder:"e.g., 175",...w("height_cm")}),P.height_cm&&s.jsx("p",{className:"text-sm text-red-600",children:P.height_cm.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"weight_kg",children:"Weight (kg) *"}),s.jsx(p.I,{id:"weight_kg",type:"number",min:"30",max:"150",placeholder:"e.g., 70",...w("weight_kg")}),P.weight_kg&&s.jsx("p",{className:"text-sm text-red-600",children:P.weight_kg.message})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(u._,{htmlFor:"preferred_foot",children:"Preferred Foot *"}),(0,s.jsxs)("select",{id:"preferred_foot",...w("preferred_foot"),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select preferred foot"}),f.map(e=>s.jsx("option",{value:e,children:e},e))]}),P.preferred_foot&&s.jsx("p",{className:"text-sm text-red-600",children:P.preferred_foot.message})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(u._,{htmlFor:"bio",children:"Bio (Optional)"}),s.jsx("textarea",{id:"bio",rows:4,placeholder:"Tell us about yourself, your playing style, achievements...",...w("bio"),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),P.bio&&s.jsx("p",{className:"text-sm text-red-600",children:P.bio.message})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(c.z,{type:"submit",disabled:d,className:"flex-1",children:d?"Saving...":"Save Profile"}),s.jsx(c.z,{type:"button",variant:"outline",onClick:()=>e.push("/dashboard/player"),disabled:d,children:"Cancel"})]})]})}function y(){(0,i.useRouter)();let[e,t]=(0,a.useState)(!0),[r,l]=(0,a.useState)(null);return e||!r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-slate-600",children:"Loading..."})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[s.jsx("nav",{className:"bg-white border-b border-slate-200 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center h-16",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/logo.png",alt:"PCL Logo",className:"h-10 w-10"}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent",children:"PCL"})]})})})}),s.jsx("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 md:p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Complete Your Player Profile"}),s.jsx("p",{className:"text-slate-600",children:"Fill in your details to appear in scout searches and receive contract offers"})]}),s.jsx(b,{})]})})]})}},7761:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>d,X:()=>c,bZ:()=>o});var s=r(3227),a=r(3677),i=r(1086),l=r(8755);let n=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-red-500/50 text-red-600 dark:border-red-500 [&>svg]:text-red-600",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600"}},defaultVariants:{variant:"default"}}),o=a.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,l.cn)(n({variant:t}),e),...r}));o.displayName="Alert";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},1250:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(3227),a=r(3677),i=r(594),l=r(1086),n=r(8755);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...l},d)=>{let c=a?i.g7:"button";return s.jsx(c,{className:(0,n.cn)(o({variant:t,size:r,className:e})),ref:d,...l})});d.displayName="Button"},3956:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var s=r(3227),a=r(3677),i=r(8755);let l=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:a,...r}));l.displayName="Input"},3414:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(3227),a=r(3677),i=r(1706),l=r(1086),n=r(8755);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.f,{ref:r,className:(0,n.cn)(o(),e),...t}));d.displayName=i.f.displayName},164:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var s=r(1230);let a=()=>(0,s.createBrowserClient)("https://uvifkmkdoiohqrdbwgzt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2aWZrbWtkb2lvaHFyZGJ3Z3p0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNTA0MjMsImV4cCI6MjA4MTYyNjQyM30.fbFwh2HBKd4pjImw88hhG4-VuBxWaLDoIpcpZvjHD3o")},8755:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(1126),a=r(2890);function i(...e){return(0,a.m6)((0,s.W)(e))}},1043:(e,t,r)=>{"use strict";var s=r(2854);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(9013);r(5556);let a={title:"Professional Club League - PCL",description:"A comprehensive platform for organizing professional sports leagues and tournaments",icons:{icon:"/favicon.ico",apple:"/logo.png"}};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"bg-gradient-to-br from-slate-50 to-slate-100",children:e})})}},249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(3189).createProxy)(String.raw`/Users/bineshbalan/pcl/apps/web/src/app/profile/player/complete/page.tsx#default`)},9908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i}),r(9013);var s=r(7201);let a={runtime:"edge",size:{width:180,height:180},contentType:"image/png"};async function i(e){let{__metadata_id__:t,...r}=e.params,i=(0,s.fillMetadataSegment)(".",r,"apple-icon"),{generateImageMetadata:l}=a;function n(e,t){let r={alt:e.alt,type:e.contentType||"image/png",url:i+(t?"/"+t:"")+"?48eed7a562f2068c"},{size:s}=e;return s&&(r.sizes=s.width+"x"+s.height),r}return l?(await l({params:r})).map((e,t)=>{let r=(e.id||t)+"";return n(e,r)}):[n(a,"")]}},1572:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i}),r(9013);var s=r(7201);let a={runtime:"edge",size:{width:32,height:32},contentType:"image/png"};async function i(e){let{__metadata_id__:t,...r}=e.params,i=(0,s.fillMetadataSegment)(".",r,"icon"),{generateImageMetadata:l}=a;function n(e,t){let r={alt:e.alt,type:e.contentType||"image/png",url:i+(t?"/"+t:"")+"?b1ec6aec20530dd1"},{size:s}=e;return s&&(r.sizes=s.width+"x"+s.height),r}return l?(await l({params:r})).map((e,t)=>{let r=(e.id||t)+"";return n(e,r)}):[n(a,"")]}},5556:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[193,679,201,230,778,349],()=>r(7138));module.exports=s})();